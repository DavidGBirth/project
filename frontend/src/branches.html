<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}

			.container {
				display: flex;
				gap: 5px;
				margin: 10px;
			}
		</style>
		<script type="text/javascript">
			fetch("http://207.246.83.183:3000/branches")
			.then(res => res.json())
		  	.then(branches => {
		  		console.log(branches);
		  		branches.sort(function(a, b){
				    if(a.name < b.name) { return -1; }
				    if(a.name > b.name) { return 1; }
				    return 0;
				});
		  		let x = document.querySelector("thead");
		  		let header = "<tr><th>#</th><th>Nome</th><th>Ramal</th></tr>";
		  		x.innerHTML = header;
		  		let y = document.querySelector("tbody");
		  		let rows = branches.map((obj, index) => {
		  			return `<tr><td>${index + 1}</td><td>${obj.name}</td><td>${obj.branch}</td></tr>`;
		  		});
		  		y.innerHTML = rows.join("");
			});
		</script>
	</head>
	<body>
		<div class="container">
			<h1>Lista de Ramais</h1>
			<table>
				<thead></thead>
				<tbody></tbody>
			</table>
		</div>
	</body>
</html>